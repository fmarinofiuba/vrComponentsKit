{"version":3,"file":"TeapotGeometry.js","sources":["../src/xr/VrConsole.js","../src/xr/VrVarsWatcher.js","../node_modules/three/examples/jsm/geometries/TeapotGeometry.js"],"sourcesContent":["import { VrInteractivePanel } from './VrInteractivePanel';\r\nimport { HTMLMesh } from 'three/addons/interactive/HTMLMesh.js';\r\nimport { GrabbableVrObject } from './../xr/GrabbableVrObject';\r\n\r\nexport const defaultOptions = {\r\n\twidth: 800,\r\n\theight: 500,\r\n};\r\n\r\nexport class VrConsole extends VrInteractivePanel {\r\n\tconstructor(domElement, worldContainer, controllersManager, options) {\r\n\t\tsuper(worldContainer, controllersManager, options);\r\n\t\tthis.options = { ...defaultOptions, ...options };\r\n\t\t//this._grabbableVrObject = new GrabbableVrObject(this._container, controllersManager);\r\n\t\tthis.domElement = domElement;\r\n\t\tthis.consoleDiv = null;\r\n\t\tthis.originalConsole = {\r\n\t\t\tlog: console.log,\r\n\t\t\tinfo: console.info,\r\n\t\t\twarn: console.warn,\r\n\t\t\terror: console.error,\r\n\t\t\tdebug: console.debug,\r\n\t\t\ttrace: console.trace,\r\n\t\t};\r\n\t\tthis.customConsoleStyles =\r\n\t\t\t`\r\n            #vrConsole {\r\n\t\t\t\r\n                \r\n                position: absolute;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tleft: 0;\r\n                border: 4px solid red;\r\n                padding: 10px;\r\n                overflow-y: scroll;\r\n                font-family: monospace;\r\n                font-size: 12px;\r\n                background-color: #f4f4f4;\r\n                color: #333;\r\n                box-sizing: border-box;\r\n                visibility: hidden;\r\n                \r\n                height: ` +\r\n\t\t\tthis.options.height +\r\n\t\t\t`px;\r\n\t\t\t\twidth: ` +\r\n\t\t\tthis.options.width +\r\n\t\t\t`px;\r\n\r\n            }\r\n            .consoleLine {\r\n                margin-bottom: 5px;\r\n                white-space: pre-wrap;\r\n                word-wrap: break-word;\r\n            }\r\n            .consola-log { color: #000; }\r\n            .consola-info { color: #0000AA; }\r\n            .consola-warn { color: #AA5500; }\r\n            .consola-error { color: #AA0000; font-weight: bold; }\r\n            .consola-debug { color: #555555; }\r\n            .consola-trace { color: #777777; }\r\n            .consoleLine span { white-space: pre; }\r\n        `;\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tinit() {\r\n\t\t// Function name translated: inicializarConsola -> initializeConsole\r\n\t\tthis.addStyles(); // Function call translated: agregarEstilos -> addStyles\r\n\t\tthis.createConsoleContainer(); // Function call translated: crearContenedorConsola -> createConsoleContainer\r\n\t\tthis.interceptConsoleMethods(); // Function call translated: interceptarMetodosConsola -> interceptConsoleMethods\r\n\t}\r\n\r\n\taddStyles() {\r\n\t\t// Function name translated: agregarEstilos -> addStyles\r\n\t\tconst styleElement = document.createElement('style');\r\n\t\tstyleElement.textContent = this.customConsoleStyles; // Property name translated: estilosConsolaPersonalizada -> customConsoleStyles\r\n\t\tdocument.head.appendChild(styleElement);\r\n\t}\r\n\r\n\tcreateConsoleContainer() {\r\n\t\t// Function name translated: crearContenedorConsola -> createConsoleContainer\r\n\t\tthis.consoleDiv = document.createElement('div'); // Property name translated: consolaDiv -> consoleDiv\r\n\t\tthis.consoleDiv.id = 'vrConsole'; // Property name translated: consolaDiv -> consoleDiv\r\n\r\n\t\tif (this.domElement) {\r\n\t\t\t// Variable name translated: contenedor -> container\r\n\t\t\tthis.domElement.appendChild(this.consoleDiv); // Property name translated: consolaDiv -> consoleDiv, Variable name translated: contenedor -> container\r\n\t\t} else {\r\n\t\t\tdocument.body.appendChild(this.consoleDiv); // Property name translated: consolaDiv -> consoleDiv\r\n\t\t\tconsole.warn(`container is null. Console div added to body.`);\r\n\t\t}\r\n\t}\r\n\r\n\tformatConsoleArgument(arg) {\r\n\t\t// Function name translated: formatearArgumentoConsola -> formatConsoleArgument\r\n\t\tif (typeof arg === 'object' && arg !== null) {\r\n\t\t\ttry {\r\n\t\t\t\treturn JSON.stringify(arg, null, 2);\r\n\t\t\t} catch (e) {\r\n\t\t\t\treturn String(arg);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn String(arg);\r\n\t}\r\n\r\n\tprocessStyleDirectives(text) {\r\n\t\t// Function name translated: procesarDirectivasEstilo -> processStyleDirectives\r\n\t\tlet fragment = document.createDocumentFragment(); // Variable name translated: fragmento -> fragment\r\n\t\tlet styleRegex = /%c([^%]+?)%c(.*)/g; // Variable name translated: estilosRegex -> styleRegex\r\n\t\tlet startIndex = 0; // Variable name translated: indiceInicio -> startIndex\r\n\t\tlet result; // Variable name translated: resultado -> result\r\n\r\n\t\twhile ((result = styleRegex.exec(text)) !== null) {\r\n\t\t\t// Variable name translated: resultado -> result, Variable name translated: estilosRegex -> styleRegex\r\n\t\t\tlet previousText = text.substring(startIndex, result.index); // Variable name translated: textoPrevio -> previousText, Variable name translated: indiceInicio -> startIndex, Variable name translated: resultado -> result\r\n\t\t\tif (previousText) {\r\n\t\t\t\t// Variable name translated: textoPrevio -> previousText\r\n\t\t\t\tfragment.appendChild(document.createTextNode(previousText)); // Variable name translated: fragmento -> fragment, Variable name translated: textoPrevio -> previousText\r\n\t\t\t}\r\n\r\n\t\t\tlet styledText = result[1]; // Variable name translated: textoEstilado -> styledText, Variable name translated: resultado -> result\r\n\t\t\tlet cssStyles = result[2]; // Variable name translated: estilosCSS -> cssStyles, Variable name translated: resultado -> result\r\n\r\n\t\t\tlet span = document.createElement('span');\r\n\t\t\tspan.textContent = styledText; // Variable name translated: textoEstilado -> styledText\r\n\t\t\tspan.style.cssText = cssStyles; // Variable name translated: estilosCSS -> cssStyles\r\n\t\t\tfragment.appendChild(span); // Variable name translated: fragmento -> fragment\r\n\r\n\t\t\tstartIndex = styleRegex.lastIndex; // Variable name translated: indiceInicio -> startIndex, Variable name translated: estilosRegex -> styleRegex\r\n\t\t}\r\n\r\n\t\tlet finalText = text.substring(startIndex); // Variable name translated: textoFinal -> finalText, Variable name translated: indiceInicio -> startIndex\r\n\t\tif (finalText) {\r\n\t\t\t// Variable name translated: textoFinal -> finalText\r\n\t\t\tfragment.appendChild(document.createTextNode(finalText)); // Variable name translated: fragmento -> fragment, Variable name translated: textoFinal -> finalText\r\n\t\t}\r\n\t\treturn fragment; // Variable name translated: fragmento -> fragment\r\n\t}\r\n\r\n\tinterceptConsole(type) {\r\n\t\t// Function name translated: interceptarConsola -> interceptConsole\r\n\t\tthis.originalConsole[type] = console[type]; // Property name translated: consolaOriginal -> originalConsole\r\n\t\tconsole[type] = (...args) => {\r\n\t\t\t// Using rest parameter for arguments\r\n\t\t\tconst lineDiv = document.createElement('div'); // Variable name translated: lineaDiv -> lineDiv\r\n\t\t\tlineDiv.className = 'consoleLine consola-' + type; // Variable name translated: lineaDiv -> lineDiv\r\n\r\n\t\t\tconst formattedArguments = Array.from(args).map(this.formatConsoleArgument); // Variable name translated: argumentosFormateados -> formattedArguments, Function call translated: formatearArgumentoConsola -> formatConsoleArgument\r\n\t\t\tconst message = formattedArguments.join(' '); // Variable name translated: argumentosFormateados -> formattedArguments\r\n\r\n\t\t\tif (message.includes('%c')) {\r\n\t\t\t\tlineDiv.appendChild(this.processStyleDirectives(message)); // Function call translated: procesarDirectivasEstilo -> processStyleDirectives, Variable name translated: lineaDiv -> lineDiv\r\n\t\t\t} else {\r\n\t\t\t\tlineDiv.textContent = message; // Variable name translated: lineaDiv -> lineDiv\r\n\t\t\t}\r\n\r\n\t\t\tthis.consoleDiv.appendChild(lineDiv); // Property name translated: consolaDiv -> consoleDiv, Variable name translated: lineaDiv -> lineDiv\r\n\t\t\tthis.consoleDiv.scrollTop = this.consoleDiv.scrollHeight; // Property name translated: consolaDiv -> consoleDiv\r\n\r\n\t\t\tthis.originalConsole[type].apply(console, args); // Property name translated: consolaOriginal -> originalConsole, Using 'args' here\r\n\t\t};\r\n\t}\r\n\r\n\tinterceptConsoleMethods() {\r\n\t\t// Function name translated: interceptarMetodosConsola -> interceptConsoleMethods\r\n\t\tthis.interceptConsole('log'); // Function call translated: interceptarConsola -> interceptConsole\r\n\t\tthis.interceptConsole('info'); // Function call translated: interceptarConsola -> interceptConsole\r\n\t\tthis.interceptConsole('warn'); // Function call translated: interceptarConsola -> interceptConsole\r\n\t\tthis.interceptConsole('error'); // Function call translated: interceptarConsola -> interceptConsole\r\n\t\tthis.interceptConsole('debug'); // Function call translated: interceptarConsola -> interceptConsole\r\n\t\tthis.interceptConsole('trace'); // Function call translated: interceptarConsola -> interceptConsole\r\n\t}\r\n\r\n\tcreateMap() {\r\n\t\t//https://github.com/lo-th/uil\r\n\r\n\t\tconst mesh = new HTMLMesh(this.consoleDiv);\r\n\t\tmesh.material;\r\n\r\n\t\tthis._map = mesh.material.map;\r\n\t\tlet h = this._map.image.height;\r\n\t\tlet w = this._map.image.width;\r\n\r\n\t\tthis._frontMaterial = mesh.material;\r\n\r\n\t\tthis._mesh.material = [this._backMaterial, this._frontMaterial];\r\n\r\n\t\tthis._updateAspectRatio(w, h, this.consoleDiv.offsetHeight);\r\n\t}\r\n\r\n\t_onPointerEvent = (e) => {\r\n\t\t// e.type: pointerdown,pointerup,pointermove\r\n\t\t// e.data: x,y in [0,1] range\r\n\r\n\t\tswitch (e.type) {\r\n\t\t\tcase 'pointerdown':\r\n\t\t\t\t// We need to convert the type to mousedown\r\n\t\t\t\te.type = 'mousedown';\r\n\t\t\t\t// IMPORTANT: The y axis is inverted in the DOM events\r\n\t\t\t\te.data.y = 1 - e.data.y;\r\n\t\t\t\tthis._map.dispatchDOMEvent(e);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'pointermove':\r\n\t\t\t\te.type = 'mousemove';\r\n\t\t\t\t// IMPORTANT: The y axis is inverted in the DOM events\r\n\t\t\t\te.data.y = 1 - e.data.y;\r\n\t\t\t\tthis._map.dispatchDOMEvent(e);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'pointerup':\r\n\t\t\t\te.type = 'mouseup';\r\n\t\t\t\t// IMPORTANT: The y axis is inverted in the DOM events\r\n\t\t\t\te.data.y = 1 - e.data.y;\r\n\t\t\t\tthis._map.dispatchDOMEvent(e);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'pointerupoutside':\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n}\r\n","import * as THREE from 'three';\r\nimport { VrInteractivePanel } from './VrInteractivePanel.js';\r\nimport { HTMLMesh } from 'three/addons/interactive/HTMLMesh.js';\r\n\r\nconst defaultOptions = {\r\n\twidth: 200, // pixels\r\n};\r\n\r\nexport class VrVarsWatcher extends VrInteractivePanel {\r\n\tconstructor(worldContainer, controllersManager, options = {}) {\r\n\t\tsuper(worldContainer, controllersManager, options);\r\n\r\n\t\tthis._options = { ...defaultOptions, ...options };\r\n\t\tthis._variables = new Map(); // Map<string, {value: any, getter: () => any}>\r\n\r\n\t\t// Create hidden container for the HTML\r\n\t\tthis._htmlContainer = document.createElement('div');\r\n\t\tthis._htmlContainer.id = 'vrVarsWatcher';\r\n\t\tthis._htmlContainer.style.cssText = `\r\n            position: absolute;\r\n            bottom: 0;\r\n            left: 0;           \r\n            visibility: hidden;\r\n        `;\r\n\t\tdocument.body.appendChild(this._htmlContainer);\r\n\r\n\t\t// Create and style the table\r\n\t\tthis._table = document.createElement('table');\r\n\t\tthis._table.style.cssText = `\r\n            width: ${this._options.width}px;\r\n            min-width: 100px;\r\n            min-height: 100px;  \r\n            border-collapse: collapse;\r\n            background: #555555;\r\n            font-family: 'Consolas', monospace;\r\n            font-size: 10px;\r\n            color: white;            \r\n        `;\r\n\t\tthis._htmlContainer.appendChild(this._table);\r\n\t}\r\n\r\n\tadd(name, valueOrGetter) {\r\n\t\tconst getter = typeof valueOrGetter === 'function' ? valueOrGetter : () => valueOrGetter;\r\n\r\n\t\tconst ref = { name, getter };\r\n\t\tthis._variables.set(name, ref);\r\n\t\tthis.update();\r\n\t\treturn ref;\r\n\t}\r\n\r\n\tremove(ref) {\r\n\t\tif (ref && ref.name) {\r\n\t\t\tthis._variables.delete(ref.name);\r\n\t\t}\r\n\t}\r\n\r\n\t_formatValue(value) {\r\n\t\tif (value instanceof THREE.Vector2) {\r\n\t\t\treturn `x:${value.x.toFixed(2)} y:${value.y.toFixed(2)}`;\r\n\t\t}\r\n\t\tif (value instanceof THREE.Vector3) {\r\n\t\t\treturn `x:${value.x.toFixed(2)} y:${value.y.toFixed(2)} z:${value.z.toFixed(2)}`;\r\n\t\t}\r\n\r\n\t\tif (value instanceof THREE.Euler) {\r\n\t\t\treturn `x:${value.x.toFixed(2)} y:${value.y.toFixed(2)} z:${value.z.toFixed(2)}`;\r\n\t\t}\r\n\r\n\t\tif (typeof value === 'number') {\r\n\t\t\treturn value.toFixed(2);\r\n\t\t}\r\n\t\treturn String(value);\r\n\t}\r\n\r\n\tupdate(time, deltaTime) {\r\n\t\t// Clear the table\r\n\t\tthis._table.innerHTML = '';\r\n\r\n\t\t// Update table content\r\n\t\tfor (const [name, ref] of this._variables) {\r\n\t\t\tconst row = this._table.insertRow();\r\n\r\n\t\t\tconst nameCell = row.insertCell();\r\n\t\t\tnameCell.textContent = name;\r\n\t\t\tnameCell.style.cssText =\r\n\t\t\t\t'text-align: right; padding: 2px 8px; border-right: 1px solid #444; text-wrap:nowrap;';\r\n\r\n\t\t\tconst valueCell = row.insertCell();\r\n\t\t\tvalueCell.textContent = this._formatValue(ref.getter());\r\n\t\t\tvalueCell.style.cssText = 'text-align: left; padding: 2px 8px; text-wrap:nowrap';\r\n\t\t}\r\n\t}\r\n\r\n\tcreateMap() {\r\n\t\tconst mesh = new HTMLMesh(this._htmlContainer);\r\n\t\tmesh.material;\r\n\r\n\t\tthis._map = mesh.material.map;\r\n\t\tlet h = this._map.image.height;\r\n\t\tlet w = this._map.image.width;\r\n\r\n\t\tthis._frontMaterial = mesh.material;\r\n\t\tthis._mesh.material = [this._backMaterial, this._frontMaterial];\r\n\r\n\t\tthis._updateAspectRatio(w, h, this._htmlContainer.offsetHeight);\r\n\t}\r\n\r\n\t_onPointerEvent = (e) => {\r\n\t\t// No interaction needed for this panel\r\n\t};\r\n}\r\n","import {\n\tBufferAttribute,\n\tBufferGeometry,\n\tMatrix4,\n\tVector3,\n\tVector4\n} from 'three';\n\n/**\n * Tessellates the famous Utah teapot database by Martin Newell into triangles.\n *\n * Parameters: size = 50, segments = 10, bottom = true, lid = true, body = true,\n *   fitLid = true, blinn = true\n *\n * size is a relative scale: I've scaled the teapot to fit vertically between -1 and 1.\n * Think of it as a \"radius\".\n * segments - number of line segments to subdivide each patch edge;\n *   1 is possible but gives degenerates, so two is the real minimum.\n * bottom - boolean, if true (default) then the bottom patches are added. Some consider\n *   adding the bottom heresy, so set this to \"false\" to adhere to the One True Way.\n * lid - to remove the lid and look inside, set to true.\n * body - to remove the body and leave the lid, set this and \"bottom\" to false.\n * fitLid - the lid is a tad small in the original. This stretches it a bit so you can't\n *   see the teapot's insides through the gap.\n * blinn - Jim Blinn scaled the original data vertically by dividing by about 1.3 to look\n *   nicer. If you want to see the original teapot, similar to the real-world model, set\n *   this to false. True by default.\n *   See http://en.wikipedia.org/wiki/File:Original_Utah_Teapot.jpg for the original\n *   real-world teapot (from http://en.wikipedia.org/wiki/Utah_teapot).\n *\n * Note that the bottom (the last four patches) is not flat - blame Frank Crow, not me.\n *\n * The teapot should normally be rendered as a double sided object, since for some\n * patches both sides can be seen, e.g., the gap around the lid and inside the spout.\n *\n * Segments 'n' determines the number of triangles output.\n *   Total triangles = 32*2*n*n - 8*n    [degenerates at the top and bottom cusps are deleted]\n *\n *   size_factor   # triangles\n *       1          56\n *       2         240\n *       3         552\n *       4         992\n *\n *      10        6320\n *      20       25440\n *      30       57360\n *\n * Code converted from my ancient SPD software, http://tog.acm.org/resources/SPD/\n * Created for the Udacity course \"Interactive Rendering\", http://bit.ly/ericity\n * YouTube video on teapot history: https://www.youtube.com/watch?v=DxMfblPzFNc\n *\n * See https://en.wikipedia.org/wiki/Utah_teapot for the history of the teapot\n *\n */\n\nclass TeapotGeometry extends BufferGeometry {\n\n\tconstructor( size = 50, segments = 10, bottom = true, lid = true, body = true, fitLid = true, blinn = true ) {\n\n\t\t// 32 * 4 * 4 Bezier spline patches\n\t\tconst teapotPatches = [\n\t\t\t/*rim*/\n\t\t\t0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n\t\t\t3, 16, 17, 18, 7, 19, 20, 21, 11, 22, 23, 24, 15, 25, 26, 27,\n\t\t\t18, 28, 29, 30, 21, 31, 32, 33, 24, 34, 35, 36, 27, 37, 38, 39,\n\t\t\t30, 40, 41, 0, 33, 42, 43, 4, 36, 44, 45, 8, 39, 46, 47, 12,\n\t\t\t/*body*/\n\t\t\t12, 13, 14, 15, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59,\n\t\t\t15, 25, 26, 27, 51, 60, 61, 62, 55, 63, 64, 65, 59, 66, 67, 68,\n\t\t\t27, 37, 38, 39, 62, 69, 70, 71, 65, 72, 73, 74, 68, 75, 76, 77,\n\t\t\t39, 46, 47, 12, 71, 78, 79, 48, 74, 80, 81, 52, 77, 82, 83, 56,\n\t\t\t56, 57, 58, 59, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95,\n\t\t\t59, 66, 67, 68, 87, 96, 97, 98, 91, 99, 100, 101, 95, 102, 103, 104,\n\t\t\t68, 75, 76, 77, 98, 105, 106, 107, 101, 108, 109, 110, 104, 111, 112, 113,\n\t\t\t77, 82, 83, 56, 107, 114, 115, 84, 110, 116, 117, 88, 113, 118, 119, 92,\n\t\t\t/*handle*/\n\t\t\t120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135,\n\t\t\t123, 136, 137, 120, 127, 138, 139, 124, 131, 140, 141, 128, 135, 142, 143, 132,\n\t\t\t132, 133, 134, 135, 144, 145, 146, 147, 148, 149, 150, 151, 68, 152, 153, 154,\n\t\t\t135, 142, 143, 132, 147, 155, 156, 144, 151, 157, 158, 148, 154, 159, 160, 68,\n\t\t\t/*spout*/\n\t\t\t161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176,\n\t\t\t164, 177, 178, 161, 168, 179, 180, 165, 172, 181, 182, 169, 176, 183, 184, 173,\n\t\t\t173, 174, 175, 176, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196,\n\t\t\t176, 183, 184, 173, 188, 197, 198, 185, 192, 199, 200, 189, 196, 201, 202, 193,\n\t\t\t/*lid*/\n\t\t\t203, 203, 203, 203, 204, 205, 206, 207, 208, 208, 208, 208, 209, 210, 211, 212,\n\t\t\t203, 203, 203, 203, 207, 213, 214, 215, 208, 208, 208, 208, 212, 216, 217, 218,\n\t\t\t203, 203, 203, 203, 215, 219, 220, 221, 208, 208, 208, 208, 218, 222, 223, 224,\n\t\t\t203, 203, 203, 203, 221, 225, 226, 204, 208, 208, 208, 208, 224, 227, 228, 209,\n\t\t\t209, 210, 211, 212, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240,\n\t\t\t212, 216, 217, 218, 232, 241, 242, 243, 236, 244, 245, 246, 240, 247, 248, 249,\n\t\t\t218, 222, 223, 224, 243, 250, 251, 252, 246, 253, 254, 255, 249, 256, 257, 258,\n\t\t\t224, 227, 228, 209, 252, 259, 260, 229, 255, 261, 262, 233, 258, 263, 264, 237,\n\t\t\t/*bottom*/\n\t\t\t265, 265, 265, 265, 266, 267, 268, 269, 270, 271, 272, 273, 92, 119, 118, 113,\n\t\t\t265, 265, 265, 265, 269, 274, 275, 276, 273, 277, 278, 279, 113, 112, 111, 104,\n\t\t\t265, 265, 265, 265, 276, 280, 281, 282, 279, 283, 284, 285, 104, 103, 102, 95,\n\t\t\t265, 265, 265, 265, 282, 286, 287, 266, 285, 288, 289, 270, 95, 94, 93, 92\n\t\t];\n\n\t\tconst teapotVertices = [\n\t\t\t1.4, 0, 2.4,\n\t\t\t1.4, - 0.784, 2.4,\n\t\t\t0.784, - 1.4, 2.4,\n\t\t\t0, - 1.4, 2.4,\n\t\t\t1.3375, 0, 2.53125,\n\t\t\t1.3375, - 0.749, 2.53125,\n\t\t\t0.749, - 1.3375, 2.53125,\n\t\t\t0, - 1.3375, 2.53125,\n\t\t\t1.4375, 0, 2.53125,\n\t\t\t1.4375, - 0.805, 2.53125,\n\t\t\t0.805, - 1.4375, 2.53125,\n\t\t\t0, - 1.4375, 2.53125,\n\t\t\t1.5, 0, 2.4,\n\t\t\t1.5, - 0.84, 2.4,\n\t\t\t0.84, - 1.5, 2.4,\n\t\t\t0, - 1.5, 2.4,\n\t\t\t- 0.784, - 1.4, 2.4,\n\t\t\t- 1.4, - 0.784, 2.4,\n\t\t\t- 1.4, 0, 2.4,\n\t\t\t- 0.749, - 1.3375, 2.53125,\n\t\t\t- 1.3375, - 0.749, 2.53125,\n\t\t\t- 1.3375, 0, 2.53125,\n\t\t\t- 0.805, - 1.4375, 2.53125,\n\t\t\t- 1.4375, - 0.805, 2.53125,\n\t\t\t- 1.4375, 0, 2.53125,\n\t\t\t- 0.84, - 1.5, 2.4,\n\t\t\t- 1.5, - 0.84, 2.4,\n\t\t\t- 1.5, 0, 2.4,\n\t\t\t- 1.4, 0.784, 2.4,\n\t\t\t- 0.784, 1.4, 2.4,\n\t\t\t0, 1.4, 2.4,\n\t\t\t- 1.3375, 0.749, 2.53125,\n\t\t\t- 0.749, 1.3375, 2.53125,\n\t\t\t0, 1.3375, 2.53125,\n\t\t\t- 1.4375, 0.805, 2.53125,\n\t\t\t- 0.805, 1.4375, 2.53125,\n\t\t\t0, 1.4375, 2.53125,\n\t\t\t- 1.5, 0.84, 2.4,\n\t\t\t- 0.84, 1.5, 2.4,\n\t\t\t0, 1.5, 2.4,\n\t\t\t0.784, 1.4, 2.4,\n\t\t\t1.4, 0.784, 2.4,\n\t\t\t0.749, 1.3375, 2.53125,\n\t\t\t1.3375, 0.749, 2.53125,\n\t\t\t0.805, 1.4375, 2.53125,\n\t\t\t1.4375, 0.805, 2.53125,\n\t\t\t0.84, 1.5, 2.4,\n\t\t\t1.5, 0.84, 2.4,\n\t\t\t1.75, 0, 1.875,\n\t\t\t1.75, - 0.98, 1.875,\n\t\t\t0.98, - 1.75, 1.875,\n\t\t\t0, - 1.75, 1.875,\n\t\t\t2, 0, 1.35,\n\t\t\t2, - 1.12, 1.35,\n\t\t\t1.12, - 2, 1.35,\n\t\t\t0, - 2, 1.35,\n\t\t\t2, 0, 0.9,\n\t\t\t2, - 1.12, 0.9,\n\t\t\t1.12, - 2, 0.9,\n\t\t\t0, - 2, 0.9,\n\t\t\t- 0.98, - 1.75, 1.875,\n\t\t\t- 1.75, - 0.98, 1.875,\n\t\t\t- 1.75, 0, 1.875,\n\t\t\t- 1.12, - 2, 1.35,\n\t\t\t- 2, - 1.12, 1.35,\n\t\t\t- 2, 0, 1.35,\n\t\t\t- 1.12, - 2, 0.9,\n\t\t\t- 2, - 1.12, 0.9,\n\t\t\t- 2, 0, 0.9,\n\t\t\t- 1.75, 0.98, 1.875,\n\t\t\t- 0.98, 1.75, 1.875,\n\t\t\t0, 1.75, 1.875,\n\t\t\t- 2, 1.12, 1.35,\n\t\t\t- 1.12, 2, 1.35,\n\t\t\t0, 2, 1.35,\n\t\t\t- 2, 1.12, 0.9,\n\t\t\t- 1.12, 2, 0.9,\n\t\t\t0, 2, 0.9,\n\t\t\t0.98, 1.75, 1.875,\n\t\t\t1.75, 0.98, 1.875,\n\t\t\t1.12, 2, 1.35,\n\t\t\t2, 1.12, 1.35,\n\t\t\t1.12, 2, 0.9,\n\t\t\t2, 1.12, 0.9,\n\t\t\t2, 0, 0.45,\n\t\t\t2, - 1.12, 0.45,\n\t\t\t1.12, - 2, 0.45,\n\t\t\t0, - 2, 0.45,\n\t\t\t1.5, 0, 0.225,\n\t\t\t1.5, - 0.84, 0.225,\n\t\t\t0.84, - 1.5, 0.225,\n\t\t\t0, - 1.5, 0.225,\n\t\t\t1.5, 0, 0.15,\n\t\t\t1.5, - 0.84, 0.15,\n\t\t\t0.84, - 1.5, 0.15,\n\t\t\t0, - 1.5, 0.15,\n\t\t\t- 1.12, - 2, 0.45,\n\t\t\t- 2, - 1.12, 0.45,\n\t\t\t- 2, 0, 0.45,\n\t\t\t- 0.84, - 1.5, 0.225,\n\t\t\t- 1.5, - 0.84, 0.225,\n\t\t\t- 1.5, 0, 0.225,\n\t\t\t- 0.84, - 1.5, 0.15,\n\t\t\t- 1.5, - 0.84, 0.15,\n\t\t\t- 1.5, 0, 0.15,\n\t\t\t- 2, 1.12, 0.45,\n\t\t\t- 1.12, 2, 0.45,\n\t\t\t0, 2, 0.45,\n\t\t\t- 1.5, 0.84, 0.225,\n\t\t\t- 0.84, 1.5, 0.225,\n\t\t\t0, 1.5, 0.225,\n\t\t\t- 1.5, 0.84, 0.15,\n\t\t\t- 0.84, 1.5, 0.15,\n\t\t\t0, 1.5, 0.15,\n\t\t\t1.12, 2, 0.45,\n\t\t\t2, 1.12, 0.45,\n\t\t\t0.84, 1.5, 0.225,\n\t\t\t1.5, 0.84, 0.225,\n\t\t\t0.84, 1.5, 0.15,\n\t\t\t1.5, 0.84, 0.15,\n\t\t\t- 1.6, 0, 2.025,\n\t\t\t- 1.6, - 0.3, 2.025,\n\t\t\t- 1.5, - 0.3, 2.25,\n\t\t\t- 1.5, 0, 2.25,\n\t\t\t- 2.3, 0, 2.025,\n\t\t\t- 2.3, - 0.3, 2.025,\n\t\t\t- 2.5, - 0.3, 2.25,\n\t\t\t- 2.5, 0, 2.25,\n\t\t\t- 2.7, 0, 2.025,\n\t\t\t- 2.7, - 0.3, 2.025,\n\t\t\t- 3, - 0.3, 2.25,\n\t\t\t- 3, 0, 2.25,\n\t\t\t- 2.7, 0, 1.8,\n\t\t\t- 2.7, - 0.3, 1.8,\n\t\t\t- 3, - 0.3, 1.8,\n\t\t\t- 3, 0, 1.8,\n\t\t\t- 1.5, 0.3, 2.25,\n\t\t\t- 1.6, 0.3, 2.025,\n\t\t\t- 2.5, 0.3, 2.25,\n\t\t\t- 2.3, 0.3, 2.025,\n\t\t\t- 3, 0.3, 2.25,\n\t\t\t- 2.7, 0.3, 2.025,\n\t\t\t- 3, 0.3, 1.8,\n\t\t\t- 2.7, 0.3, 1.8,\n\t\t\t- 2.7, 0, 1.575,\n\t\t\t- 2.7, - 0.3, 1.575,\n\t\t\t- 3, - 0.3, 1.35,\n\t\t\t- 3, 0, 1.35,\n\t\t\t- 2.5, 0, 1.125,\n\t\t\t- 2.5, - 0.3, 1.125,\n\t\t\t- 2.65, - 0.3, 0.9375,\n\t\t\t- 2.65, 0, 0.9375,\n\t\t\t- 2, - 0.3, 0.9,\n\t\t\t- 1.9, - 0.3, 0.6,\n\t\t\t- 1.9, 0, 0.6,\n\t\t\t- 3, 0.3, 1.35,\n\t\t\t- 2.7, 0.3, 1.575,\n\t\t\t- 2.65, 0.3, 0.9375,\n\t\t\t- 2.5, 0.3, 1.125,\n\t\t\t- 1.9, 0.3, 0.6,\n\t\t\t- 2, 0.3, 0.9,\n\t\t\t1.7, 0, 1.425,\n\t\t\t1.7, - 0.66, 1.425,\n\t\t\t1.7, - 0.66, 0.6,\n\t\t\t1.7, 0, 0.6,\n\t\t\t2.6, 0, 1.425,\n\t\t\t2.6, - 0.66, 1.425,\n\t\t\t3.1, - 0.66, 0.825,\n\t\t\t3.1, 0, 0.825,\n\t\t\t2.3, 0, 2.1,\n\t\t\t2.3, - 0.25, 2.1,\n\t\t\t2.4, - 0.25, 2.025,\n\t\t\t2.4, 0, 2.025,\n\t\t\t2.7, 0, 2.4,\n\t\t\t2.7, - 0.25, 2.4,\n\t\t\t3.3, - 0.25, 2.4,\n\t\t\t3.3, 0, 2.4,\n\t\t\t1.7, 0.66, 0.6,\n\t\t\t1.7, 0.66, 1.425,\n\t\t\t3.1, 0.66, 0.825,\n\t\t\t2.6, 0.66, 1.425,\n\t\t\t2.4, 0.25, 2.025,\n\t\t\t2.3, 0.25, 2.1,\n\t\t\t3.3, 0.25, 2.4,\n\t\t\t2.7, 0.25, 2.4,\n\t\t\t2.8, 0, 2.475,\n\t\t\t2.8, - 0.25, 2.475,\n\t\t\t3.525, - 0.25, 2.49375,\n\t\t\t3.525, 0, 2.49375,\n\t\t\t2.9, 0, 2.475,\n\t\t\t2.9, - 0.15, 2.475,\n\t\t\t3.45, - 0.15, 2.5125,\n\t\t\t3.45, 0, 2.5125,\n\t\t\t2.8, 0, 2.4,\n\t\t\t2.8, - 0.15, 2.4,\n\t\t\t3.2, - 0.15, 2.4,\n\t\t\t3.2, 0, 2.4,\n\t\t\t3.525, 0.25, 2.49375,\n\t\t\t2.8, 0.25, 2.475,\n\t\t\t3.45, 0.15, 2.5125,\n\t\t\t2.9, 0.15, 2.475,\n\t\t\t3.2, 0.15, 2.4,\n\t\t\t2.8, 0.15, 2.4,\n\t\t\t0, 0, 3.15,\n\t\t\t0.8, 0, 3.15,\n\t\t\t0.8, - 0.45, 3.15,\n\t\t\t0.45, - 0.8, 3.15,\n\t\t\t0, - 0.8, 3.15,\n\t\t\t0, 0, 2.85,\n\t\t\t0.2, 0, 2.7,\n\t\t\t0.2, - 0.112, 2.7,\n\t\t\t0.112, - 0.2, 2.7,\n\t\t\t0, - 0.2, 2.7,\n\t\t\t- 0.45, - 0.8, 3.15,\n\t\t\t- 0.8, - 0.45, 3.15,\n\t\t\t- 0.8, 0, 3.15,\n\t\t\t- 0.112, - 0.2, 2.7,\n\t\t\t- 0.2, - 0.112, 2.7,\n\t\t\t- 0.2, 0, 2.7,\n\t\t\t- 0.8, 0.45, 3.15,\n\t\t\t- 0.45, 0.8, 3.15,\n\t\t\t0, 0.8, 3.15,\n\t\t\t- 0.2, 0.112, 2.7,\n\t\t\t- 0.112, 0.2, 2.7,\n\t\t\t0, 0.2, 2.7,\n\t\t\t0.45, 0.8, 3.15,\n\t\t\t0.8, 0.45, 3.15,\n\t\t\t0.112, 0.2, 2.7,\n\t\t\t0.2, 0.112, 2.7,\n\t\t\t0.4, 0, 2.55,\n\t\t\t0.4, - 0.224, 2.55,\n\t\t\t0.224, - 0.4, 2.55,\n\t\t\t0, - 0.4, 2.55,\n\t\t\t1.3, 0, 2.55,\n\t\t\t1.3, - 0.728, 2.55,\n\t\t\t0.728, - 1.3, 2.55,\n\t\t\t0, - 1.3, 2.55,\n\t\t\t1.3, 0, 2.4,\n\t\t\t1.3, - 0.728, 2.4,\n\t\t\t0.728, - 1.3, 2.4,\n\t\t\t0, - 1.3, 2.4,\n\t\t\t- 0.224, - 0.4, 2.55,\n\t\t\t- 0.4, - 0.224, 2.55,\n\t\t\t- 0.4, 0, 2.55,\n\t\t\t- 0.728, - 1.3, 2.55,\n\t\t\t- 1.3, - 0.728, 2.55,\n\t\t\t- 1.3, 0, 2.55,\n\t\t\t- 0.728, - 1.3, 2.4,\n\t\t\t- 1.3, - 0.728, 2.4,\n\t\t\t- 1.3, 0, 2.4,\n\t\t\t- 0.4, 0.224, 2.55,\n\t\t\t- 0.224, 0.4, 2.55,\n\t\t\t0, 0.4, 2.55,\n\t\t\t- 1.3, 0.728, 2.55,\n\t\t\t- 0.728, 1.3, 2.55,\n\t\t\t0, 1.3, 2.55,\n\t\t\t- 1.3, 0.728, 2.4,\n\t\t\t- 0.728, 1.3, 2.4,\n\t\t\t0, 1.3, 2.4,\n\t\t\t0.224, 0.4, 2.55,\n\t\t\t0.4, 0.224, 2.55,\n\t\t\t0.728, 1.3, 2.55,\n\t\t\t1.3, 0.728, 2.55,\n\t\t\t0.728, 1.3, 2.4,\n\t\t\t1.3, 0.728, 2.4,\n\t\t\t0, 0, 0,\n\t\t\t1.425, 0, 0,\n\t\t\t1.425, 0.798, 0,\n\t\t\t0.798, 1.425, 0,\n\t\t\t0, 1.425, 0,\n\t\t\t1.5, 0, 0.075,\n\t\t\t1.5, 0.84, 0.075,\n\t\t\t0.84, 1.5, 0.075,\n\t\t\t0, 1.5, 0.075,\n\t\t\t- 0.798, 1.425, 0,\n\t\t\t- 1.425, 0.798, 0,\n\t\t\t- 1.425, 0, 0,\n\t\t\t- 0.84, 1.5, 0.075,\n\t\t\t- 1.5, 0.84, 0.075,\n\t\t\t- 1.5, 0, 0.075,\n\t\t\t- 1.425, - 0.798, 0,\n\t\t\t- 0.798, - 1.425, 0,\n\t\t\t0, - 1.425, 0,\n\t\t\t- 1.5, - 0.84, 0.075,\n\t\t\t- 0.84, - 1.5, 0.075,\n\t\t\t0, - 1.5, 0.075,\n\t\t\t0.798, - 1.425, 0,\n\t\t\t1.425, - 0.798, 0,\n\t\t\t0.84, - 1.5, 0.075,\n\t\t\t1.5, - 0.84, 0.075\n\t\t];\n\n\t\tsuper();\n\n\t\t// number of segments per patch\n\t\tsegments = Math.max( 2, Math.floor( segments ) );\n\n\t\t// Jim Blinn scaled the teapot down in size by about 1.3 for\n\t\t// some rendering tests. He liked the new proportions that he kept\n\t\t// the data in this form. The model was distributed with these new\n\t\t// proportions and became the norm. Trivia: comparing images of the\n\t\t// real teapot and the computer model, the ratio for the bowl of the\n\t\t// real teapot is more like 1.25, but since 1.3 is the traditional\n\t\t// value given, we use it here.\n\t\tconst blinnScale = 1.3;\n\n\t\t// scale the size to be the real scaling factor\n\t\tconst maxHeight = 3.15 * ( blinn ? 1 : blinnScale );\n\n\t\tconst maxHeight2 = maxHeight / 2;\n\t\tconst trueSize = size / maxHeight2;\n\n\t\t// Number of elements depends on what is needed. Subtract degenerate\n\t\t// triangles at tip of bottom and lid out in advance.\n\t\tlet numTriangles = bottom ? ( 8 * segments - 4 ) * segments : 0;\n\t\tnumTriangles += lid ? ( 16 * segments - 4 ) * segments : 0;\n\t\tnumTriangles += body ? 40 * segments * segments : 0;\n\n\t\tconst indices = new Uint32Array( numTriangles * 3 );\n\n\t\tlet numVertices = bottom ? 4 : 0;\n\t\tnumVertices += lid ? 8 : 0;\n\t\tnumVertices += body ? 20 : 0;\n\t\tnumVertices *= ( segments + 1 ) * ( segments + 1 );\n\n\t\tconst vertices = new Float32Array( numVertices * 3 );\n\t\tconst normals = new Float32Array( numVertices * 3 );\n\t\tconst uvs = new Float32Array( numVertices * 2 );\n\n\t\t// Bezier form\n\t\tconst ms = new Matrix4();\n\t\tms.set(\n\t\t\t- 1.0, 3.0, - 3.0, 1.0,\n\t\t\t3.0, - 6.0, 3.0, 0.0,\n\t\t\t- 3.0, 3.0, 0.0, 0.0,\n\t\t\t1.0, 0.0, 0.0, 0.0 );\n\n\t\tconst g = [];\n\n\t\tconst sp = [];\n\t\tconst tp = [];\n\t\tconst dsp = [];\n\t\tconst dtp = [];\n\n\t\t// M * G * M matrix, sort of see\n\t\t// http://www.cs.helsinki.fi/group/goa/mallinnus/curves/surfaces.html\n\t\tconst mgm = [];\n\n\t\tconst vert = [];\n\t\tconst sdir = [];\n\t\tconst tdir = [];\n\n\t\tconst norm = new Vector3();\n\n\t\tlet tcoord;\n\n\t\tlet sval;\n\t\tlet tval;\n\t\tlet p;\n\t\tlet dsval = 0;\n\t\tlet dtval = 0;\n\n\t\tconst normOut = new Vector3();\n\n\t\tconst gmx = new Matrix4();\n\t\tconst tmtx = new Matrix4();\n\n\t\tconst vsp = new Vector4();\n\t\tconst vtp = new Vector4();\n\t\tconst vdsp = new Vector4();\n\t\tconst vdtp = new Vector4();\n\n\t\tconst vsdir = new Vector3();\n\t\tconst vtdir = new Vector3();\n\n\t\tconst mst = ms.clone();\n\t\tmst.transpose();\n\n\t\t// internal function: test if triangle has any matching vertices;\n\t\t// if so, don't save triangle, since it won't display anything.\n\t\tconst notDegenerate = ( vtx1, vtx2, vtx3 ) => // if any vertex matches, return false\n\t\t\t! ( ( ( vertices[ vtx1 * 3 ] === vertices[ vtx2 * 3 ] ) &&\n\t\t\t\t\t( vertices[ vtx1 * 3 + 1 ] === vertices[ vtx2 * 3 + 1 ] ) &&\n\t\t\t\t\t( vertices[ vtx1 * 3 + 2 ] === vertices[ vtx2 * 3 + 2 ] ) ) ||\n\t\t\t\t\t( ( vertices[ vtx1 * 3 ] === vertices[ vtx3 * 3 ] ) &&\n\t\t\t\t\t( vertices[ vtx1 * 3 + 1 ] === vertices[ vtx3 * 3 + 1 ] ) &&\n\t\t\t\t\t( vertices[ vtx1 * 3 + 2 ] === vertices[ vtx3 * 3 + 2 ] ) ) || ( vertices[ vtx2 * 3 ] === vertices[ vtx3 * 3 ] ) &&\n\t\t\t\t\t( vertices[ vtx2 * 3 + 1 ] === vertices[ vtx3 * 3 + 1 ] ) &&\n\t\t\t\t\t( vertices[ vtx2 * 3 + 2 ] === vertices[ vtx3 * 3 + 2 ] ) );\n\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tmgm[ i ] = new Matrix4();\n\n\t\t}\n\n\t\tconst minPatches = body ? 0 : 20;\n\t\tconst maxPatches = bottom ? 32 : 28;\n\n\t\tconst vertPerRow = segments + 1;\n\n\t\tlet surfCount = 0;\n\n\t\tlet vertCount = 0;\n\t\tlet normCount = 0;\n\t\tlet uvCount = 0;\n\n\t\tlet indexCount = 0;\n\n\t\tfor ( let surf = minPatches; surf < maxPatches; surf ++ ) {\n\n\t\t\t// lid is in the middle of the data, patches 20-27,\n\t\t\t// so ignore it for this part of the loop if the lid is not desired\n\t\t\tif ( lid || ( surf < 20 || surf >= 28 ) ) {\n\n\t\t\t\t// get M * G * M matrix for x,y,z\n\t\t\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\t\t\t// get control patches\n\t\t\t\t\tfor ( let r = 0; r < 4; r ++ ) {\n\n\t\t\t\t\t\tfor ( let c = 0; c < 4; c ++ ) {\n\n\t\t\t\t\t\t\t// transposed\n\t\t\t\t\t\t\tg[ c * 4 + r ] = teapotVertices[ teapotPatches[ surf * 16 + r * 4 + c ] * 3 + i ];\n\n\t\t\t\t\t\t\t// is the lid to be made larger, and is this a point on the lid\n\t\t\t\t\t\t\t// that is X or Y?\n\t\t\t\t\t\t\tif ( fitLid && ( surf >= 20 && surf < 28 ) && ( i !== 2 ) ) {\n\n\t\t\t\t\t\t\t\t// increase XY size by 7.7%, found empirically. I don't\n\t\t\t\t\t\t\t\t// increase Z so that the teapot will continue to fit in the\n\t\t\t\t\t\t\t\t// space -1 to 1 for Y (Y is up for the final model).\n\t\t\t\t\t\t\t\tg[ c * 4 + r ] *= 1.077;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Blinn \"fixed\" the teapot by dividing Z by blinnScale, and that's the\n\t\t\t\t\t\t\t// data we now use. The original teapot is taller. Fix it:\n\t\t\t\t\t\t\tif ( ! blinn && ( i === 2 ) ) {\n\n\t\t\t\t\t\t\t\tg[ c * 4 + r ] *= blinnScale;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgmx.set( g[ 0 ], g[ 1 ], g[ 2 ], g[ 3 ], g[ 4 ], g[ 5 ], g[ 6 ], g[ 7 ], g[ 8 ], g[ 9 ], g[ 10 ], g[ 11 ], g[ 12 ], g[ 13 ], g[ 14 ], g[ 15 ] );\n\n\t\t\t\t\ttmtx.multiplyMatrices( gmx, ms );\n\t\t\t\t\tmgm[ i ].multiplyMatrices( mst, tmtx );\n\n\t\t\t\t}\n\n\t\t\t\t// step along, get points, and output\n\t\t\t\tfor ( let sstep = 0; sstep <= segments; sstep ++ ) {\n\n\t\t\t\t\tconst s = sstep / segments;\n\n\t\t\t\t\tfor ( let tstep = 0; tstep <= segments; tstep ++ ) {\n\n\t\t\t\t\t\tconst t = tstep / segments;\n\n\t\t\t\t\t\t// point from basis\n\t\t\t\t\t\t// get power vectors and their derivatives\n\t\t\t\t\t\tfor ( p = 4, sval = tval = 1.0; p --; ) {\n\n\t\t\t\t\t\t\tsp[ p ] = sval;\n\t\t\t\t\t\t\ttp[ p ] = tval;\n\t\t\t\t\t\t\tsval *= s;\n\t\t\t\t\t\t\ttval *= t;\n\n\t\t\t\t\t\t\tif ( p === 3 ) {\n\n\t\t\t\t\t\t\t\tdsp[ p ] = dtp[ p ] = 0.0;\n\t\t\t\t\t\t\t\tdsval = dtval = 1.0;\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tdsp[ p ] = dsval * ( 3 - p );\n\t\t\t\t\t\t\t\tdtp[ p ] = dtval * ( 3 - p );\n\t\t\t\t\t\t\t\tdsval *= s;\n\t\t\t\t\t\t\t\tdtval *= t;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvsp.fromArray( sp );\n\t\t\t\t\t\tvtp.fromArray( tp );\n\t\t\t\t\t\tvdsp.fromArray( dsp );\n\t\t\t\t\t\tvdtp.fromArray( dtp );\n\n\t\t\t\t\t\t// do for x,y,z\n\t\t\t\t\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\t\t\t\t\t// multiply power vectors times matrix to get value\n\t\t\t\t\t\t\ttcoord = vsp.clone();\n\t\t\t\t\t\t\ttcoord.applyMatrix4( mgm[ i ] );\n\t\t\t\t\t\t\tvert[ i ] = tcoord.dot( vtp );\n\n\t\t\t\t\t\t\t// get s and t tangent vectors\n\t\t\t\t\t\t\ttcoord = vdsp.clone();\n\t\t\t\t\t\t\ttcoord.applyMatrix4( mgm[ i ] );\n\t\t\t\t\t\t\tsdir[ i ] = tcoord.dot( vtp );\n\n\t\t\t\t\t\t\ttcoord = vsp.clone();\n\t\t\t\t\t\t\ttcoord.applyMatrix4( mgm[ i ] );\n\t\t\t\t\t\t\ttdir[ i ] = tcoord.dot( vdtp );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// find normal\n\t\t\t\t\t\tvsdir.fromArray( sdir );\n\t\t\t\t\t\tvtdir.fromArray( tdir );\n\t\t\t\t\t\tnorm.crossVectors( vtdir, vsdir );\n\t\t\t\t\t\tnorm.normalize();\n\n\t\t\t\t\t\t// if X and Z length is 0, at the cusp, so point the normal up or down, depending on patch number\n\t\t\t\t\t\tif ( vert[ 0 ] === 0 && vert[ 1 ] === 0 ) {\n\n\t\t\t\t\t\t\t// if above the middle of the teapot, normal points up, else down\n\t\t\t\t\t\t\tnormOut.set( 0, vert[ 2 ] > maxHeight2 ? 1 : - 1, 0 );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// standard output: rotate on X axis\n\t\t\t\t\t\t\tnormOut.set( norm.x, norm.z, - norm.y );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// store it all\n\t\t\t\t\t\tvertices[ vertCount ++ ] = trueSize * vert[ 0 ];\n\t\t\t\t\t\tvertices[ vertCount ++ ] = trueSize * ( vert[ 2 ] - maxHeight2 );\n\t\t\t\t\t\tvertices[ vertCount ++ ] = - trueSize * vert[ 1 ];\n\n\t\t\t\t\t\tnormals[ normCount ++ ] = normOut.x;\n\t\t\t\t\t\tnormals[ normCount ++ ] = normOut.y;\n\t\t\t\t\t\tnormals[ normCount ++ ] = normOut.z;\n\n\t\t\t\t\t\tuvs[ uvCount ++ ] = 1 - t;\n\t\t\t\t\t\tuvs[ uvCount ++ ] = 1 - s;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// save the faces\n\t\t\t\tfor ( let sstep = 0; sstep < segments; sstep ++ ) {\n\n\t\t\t\t\tfor ( let tstep = 0; tstep < segments; tstep ++ ) {\n\n\t\t\t\t\t\tconst v1 = surfCount * vertPerRow * vertPerRow + sstep * vertPerRow + tstep;\n\t\t\t\t\t\tconst v2 = v1 + 1;\n\t\t\t\t\t\tconst v3 = v2 + vertPerRow;\n\t\t\t\t\t\tconst v4 = v1 + vertPerRow;\n\n\t\t\t\t\t\t// Normals and UVs cannot be shared. Without clone(), you can see the consequences\n\t\t\t\t\t\t// of sharing if you call geometry.applyMatrix4( matrix ).\n\t\t\t\t\t\tif ( notDegenerate( v1, v2, v3 ) ) {\n\n\t\t\t\t\t\t\tindices[ indexCount ++ ] = v1;\n\t\t\t\t\t\t\tindices[ indexCount ++ ] = v2;\n\t\t\t\t\t\t\tindices[ indexCount ++ ] = v3;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( notDegenerate( v1, v3, v4 ) ) {\n\n\t\t\t\t\t\t\tindices[ indexCount ++ ] = v1;\n\t\t\t\t\t\t\tindices[ indexCount ++ ] = v3;\n\t\t\t\t\t\t\tindices[ indexCount ++ ] = v4;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// increment only if a surface was used\n\t\t\t\tsurfCount ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setIndex( new BufferAttribute( indices, 1 ) );\n\t\tthis.setAttribute( 'position', new BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new BufferAttribute( uvs, 2 ) );\n\n\t\tthis.computeBoundingSphere();\n\n\t}\n\n}\n\nexport { TeapotGeometry };\n"],"names":["defaultOptions","VrConsole","VrInteractivePanel","domElement","worldContainer","controllersManager","options","__publicField","e","styleElement","arg","text","fragment","styleRegex","startIndex","result","previousText","styledText","cssStyles","span","finalText","type","args","lineDiv","message","mesh","HTMLMesh","h","w","VrVarsWatcher","name","valueOrGetter","ref","value","THREE.Vector2","THREE.Vector3","THREE.Euler","time","deltaTime","row","nameCell","valueCell","TeapotGeometry","BufferGeometry","size","segments","bottom","lid","body","fitLid","blinn","teapotPatches","teapotVertices","blinnScale","maxHeight2","trueSize","numTriangles","indices","numVertices","vertices","normals","uvs","ms","Matrix4","g","sp","tp","dsp","dtp","mgm","vert","sdir","tdir","norm","Vector3","tcoord","sval","tval","p","dsval","dtval","normOut","gmx","tmtx","vsp","Vector4","vtp","vdsp","vdtp","vsdir","vtdir","mst","notDegenerate","vtx1","vtx2","vtx3","i","minPatches","maxPatches","vertPerRow","surfCount","vertCount","normCount","uvCount","indexCount","surf","r","c","sstep","s","tstep","t","v1","v2","v3","v4","BufferAttribute"],"mappings":"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","x_google_ignoreList":[2]}