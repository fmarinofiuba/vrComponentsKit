{"version":3,"file":"HTMLMesh.js","sources":["../node_modules/three/examples/jsm/interactive/HTMLMesh.js"],"sourcesContent":["import {\n\tCanvasTexture,\n\tLinearFilter,\n\tMesh,\n\tMeshBasicMaterial,\n\tPlaneGeometry,\n\tSRGBColorSpace,\n\tColor\n} from 'three';\n\nclass HTMLMesh extends Mesh {\n\n\tconstructor( dom ) {\n\n\t\tconst texture = new HTMLTexture( dom );\n\n\t\tconst geometry = new PlaneGeometry( texture.image.width * 0.001, texture.image.height * 0.001 );\n\t\tconst material = new MeshBasicMaterial( { map: texture, toneMapped: false, transparent: true } );\n\n\t\tsuper( geometry, material );\n\n\t\tfunction onEvent( event ) {\n\n\t\t\tmaterial.map.dispatchDOMEvent( event );\n\n\t\t}\n\n\t\tthis.addEventListener( 'mousedown', onEvent );\n\t\tthis.addEventListener( 'mousemove', onEvent );\n\t\tthis.addEventListener( 'mouseup', onEvent );\n\t\tthis.addEventListener( 'click', onEvent );\n\n\t\tthis.dispose = function () {\n\n\t\t\tgeometry.dispose();\n\t\t\tmaterial.dispose();\n\n\t\t\tmaterial.map.dispose();\n\n\t\t\tcanvases.delete( dom );\n\n\t\t\tthis.removeEventListener( 'mousedown', onEvent );\n\t\t\tthis.removeEventListener( 'mousemove', onEvent );\n\t\t\tthis.removeEventListener( 'mouseup', onEvent );\n\t\t\tthis.removeEventListener( 'click', onEvent );\n\n\t\t};\n\n\t}\n\n}\n\nclass HTMLTexture extends CanvasTexture {\n\n\tconstructor( dom ) {\n\n\t\tsuper( html2canvas( dom ) );\n\n\t\tthis.dom = dom;\n\n\t\tthis.anisotropy = 16;\n\t\tthis.colorSpace = SRGBColorSpace;\n\t\tthis.minFilter = LinearFilter;\n\t\tthis.magFilter = LinearFilter;\n\n\t\t// Create an observer on the DOM, and run html2canvas update in the next loop\n\t\tconst observer = new MutationObserver( () => {\n\n\t\t\tif ( ! this.scheduleUpdate ) {\n\n\t\t\t\t// ideally should use xr.requestAnimationFrame, here setTimeout to avoid passing the renderer\n\t\t\t\tthis.scheduleUpdate = setTimeout( () => this.update(), 16 );\n\n\t\t\t}\n\n\t\t} );\n\n\t\tconst config = { attributes: true, childList: true, subtree: true, characterData: true };\n\t\tobserver.observe( dom, config );\n\n\t\tthis.observer = observer;\n\n\t}\n\n\tdispatchDOMEvent( event ) {\n\n\t\tif ( event.data ) {\n\n\t\t\thtmlevent( this.dom, event.type, event.data.x, event.data.y );\n\n\t\t}\n\n\t}\n\n\tupdate() {\n\n\t\tthis.image = html2canvas( this.dom );\n\t\tthis.needsUpdate = true;\n\n\t\tthis.scheduleUpdate = null;\n\n\t}\n\n\tdispose() {\n\n\t\tif ( this.observer ) {\n\n\t\t\tthis.observer.disconnect();\n\n\t\t}\n\n\t\tthis.scheduleUpdate = clearTimeout( this.scheduleUpdate );\n\n\t\tsuper.dispose();\n\n\t}\n\n}\n\n\n//\n\nconst canvases = new WeakMap();\n\nfunction html2canvas( element ) {\n\n\tconst range = document.createRange();\n\tconst color = new Color();\n\n\tfunction Clipper( context ) {\n\n\t\tconst clips = [];\n\t\tlet isClipping = false;\n\n\t\tfunction doClip() {\n\n\t\t\tif ( isClipping ) {\n\n\t\t\t\tisClipping = false;\n\t\t\t\tcontext.restore();\n\n\t\t\t}\n\n\t\t\tif ( clips.length === 0 ) return;\n\n\t\t\tlet minX = - Infinity, minY = - Infinity;\n\t\t\tlet maxX = Infinity, maxY = Infinity;\n\n\t\t\tfor ( let i = 0; i < clips.length; i ++ ) {\n\n\t\t\t\tconst clip = clips[ i ];\n\n\t\t\t\tminX = Math.max( minX, clip.x );\n\t\t\t\tminY = Math.max( minY, clip.y );\n\t\t\t\tmaxX = Math.min( maxX, clip.x + clip.width );\n\t\t\t\tmaxY = Math.min( maxY, clip.y + clip.height );\n\n\t\t\t}\n\n\t\t\tcontext.save();\n\t\t\tcontext.beginPath();\n\t\t\tcontext.rect( minX, minY, maxX - minX, maxY - minY );\n\t\t\tcontext.clip();\n\n\t\t\tisClipping = true;\n\n\t\t}\n\n\t\treturn {\n\n\t\t\tadd: function ( clip ) {\n\n\t\t\t\tclips.push( clip );\n\t\t\t\tdoClip();\n\n\t\t\t},\n\n\t\t\tremove: function () {\n\n\t\t\t\tclips.pop();\n\t\t\t\tdoClip();\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction drawText( style, x, y, string ) {\n\n\t\tif ( string !== '' ) {\n\n\t\t\tif ( style.textTransform === 'uppercase' ) {\n\n\t\t\t\tstring = string.toUpperCase();\n\n\t\t\t}\n\n\t\t\tcontext.font = style.fontWeight + ' ' + style.fontSize + ' ' + style.fontFamily;\n\t\t\tcontext.textBaseline = 'top';\n\t\t\tcontext.fillStyle = style.color;\n\t\t\tcontext.fillText( string, x, y + parseFloat( style.fontSize ) * 0.1 );\n\n\t\t}\n\n\t}\n\n\tfunction buildRectPath( x, y, w, h, r ) {\n\n\t\tif ( w < 2 * r ) r = w / 2;\n\t\tif ( h < 2 * r ) r = h / 2;\n\n\t\tcontext.beginPath();\n\t\tcontext.moveTo( x + r, y );\n\t\tcontext.arcTo( x + w, y, x + w, y + h, r );\n\t\tcontext.arcTo( x + w, y + h, x, y + h, r );\n\t\tcontext.arcTo( x, y + h, x, y, r );\n\t\tcontext.arcTo( x, y, x + w, y, r );\n\t\tcontext.closePath();\n\n\t}\n\n\tfunction drawBorder( style, which, x, y, width, height ) {\n\n\t\tconst borderWidth = style[ which + 'Width' ];\n\t\tconst borderStyle = style[ which + 'Style' ];\n\t\tconst borderColor = style[ which + 'Color' ];\n\n\t\tif ( borderWidth !== '0px' && borderStyle !== 'none' && borderColor !== 'transparent' && borderColor !== 'rgba(0, 0, 0, 0)' ) {\n\n\t\t\tcontext.strokeStyle = borderColor;\n\t\t\tcontext.lineWidth = parseFloat( borderWidth );\n\t\t\tcontext.beginPath();\n\t\t\tcontext.moveTo( x, y );\n\t\t\tcontext.lineTo( x + width, y + height );\n\t\t\tcontext.stroke();\n\n\t\t}\n\n\t}\n\n\tfunction drawElement( element, style ) {\n\n\t\t// Do not render invisible elements, comments and scripts.\n\t\tif ( element.nodeType === Node.COMMENT_NODE || element.nodeName === 'SCRIPT' || ( element.style && element.style.display === 'none' ) ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tlet x = 0, y = 0, width = 0, height = 0;\n\n\t\tif ( element.nodeType === Node.TEXT_NODE ) {\n\n\t\t\t// text\n\n\t\t\trange.selectNode( element );\n\n\t\t\tconst rect = range.getBoundingClientRect();\n\n\t\t\tx = rect.left - offset.left - 0.5;\n\t\t\ty = rect.top - offset.top - 0.5;\n\t\t\twidth = rect.width;\n\t\t\theight = rect.height;\n\n\t\t\tdrawText( style, x, y, element.nodeValue.trim() );\n\n\t\t} else if ( element instanceof HTMLCanvasElement ) {\n\n\t\t\t// Canvas element\n\n\t\t\tconst rect = element.getBoundingClientRect();\n\n\t\t\tx = rect.left - offset.left - 0.5;\n\t\t\ty = rect.top - offset.top - 0.5;\n\n\t\t        context.save();\n\t\t\tconst dpr = window.devicePixelRatio;\n\t\t\tcontext.scale( 1 / dpr, 1 / dpr );\n\t\t\tcontext.drawImage( element, x, y );\n\t\t\tcontext.restore();\n\n\t\t} else if ( element instanceof HTMLImageElement ) {\n\n\t\t\tconst rect = element.getBoundingClientRect();\n\n\t\t\tx = rect.left - offset.left - 0.5;\n\t\t\ty = rect.top - offset.top - 0.5;\n\t\t\twidth = rect.width;\n\t\t\theight = rect.height;\n\n\t\t\tcontext.drawImage( element, x, y, width, height );\n\n\t\t} else {\n\n\t\t\tconst rect = element.getBoundingClientRect();\n\n\t\t\tx = rect.left - offset.left - 0.5;\n\t\t\ty = rect.top - offset.top - 0.5;\n\t\t\twidth = rect.width;\n\t\t\theight = rect.height;\n\n\t\t\tstyle = window.getComputedStyle( element );\n\n\t\t\t// Get the border of the element used for fill and border\n\n\t\t\tbuildRectPath( x, y, width, height, parseFloat( style.borderRadius ) );\n\n\t\t\tconst backgroundColor = style.backgroundColor;\n\n\t\t\tif ( backgroundColor !== 'transparent' && backgroundColor !== 'rgba(0, 0, 0, 0)' ) {\n\n\t\t\t\tcontext.fillStyle = backgroundColor;\n\t\t\t\tcontext.fill();\n\n\t\t\t}\n\n\t\t\t// If all the borders match then stroke the round rectangle\n\n\t\t\tconst borders = [ 'borderTop', 'borderLeft', 'borderBottom', 'borderRight' ];\n\n\t\t\tlet match = true;\n\t\t\tlet prevBorder = null;\n\n\t\t\tfor ( const border of borders ) {\n\n\t\t\t\tif ( prevBorder !== null ) {\n\n\t\t\t\t\tmatch = ( style[ border + 'Width' ] === style[ prevBorder + 'Width' ] ) &&\n\t\t\t\t\t( style[ border + 'Color' ] === style[ prevBorder + 'Color' ] ) &&\n\t\t\t\t\t( style[ border + 'Style' ] === style[ prevBorder + 'Style' ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( match === false ) break;\n\n\t\t\t\tprevBorder = border;\n\n\t\t\t}\n\n\t\t\tif ( match === true ) {\n\n\t\t\t\t// They all match so stroke the rectangle from before allows for border-radius\n\n\t\t\t\tconst width = parseFloat( style.borderTopWidth );\n\n\t\t\t\tif ( style.borderTopWidth !== '0px' && style.borderTopStyle !== 'none' && style.borderTopColor !== 'transparent' && style.borderTopColor !== 'rgba(0, 0, 0, 0)' ) {\n\n\t\t\t\t\tcontext.strokeStyle = style.borderTopColor;\n\t\t\t\t\tcontext.lineWidth = width;\n\t\t\t\t\tcontext.stroke();\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Otherwise draw individual borders\n\n\t\t\t\tdrawBorder( style, 'borderTop', x, y, width, 0 );\n\t\t\t\tdrawBorder( style, 'borderLeft', x, y, 0, height );\n\t\t\t\tdrawBorder( style, 'borderBottom', x, y + height, width, 0 );\n\t\t\t\tdrawBorder( style, 'borderRight', x + width, y, 0, height );\n\n\t\t\t}\n\n\t\t\tif ( element instanceof HTMLInputElement ) {\n\n\t\t\t\tlet accentColor = style.accentColor;\n\n\t\t\t\tif ( accentColor === undefined || accentColor === 'auto' ) accentColor = style.color;\n\n\t\t\t\tcolor.set( accentColor );\n\n\t\t\t\tconst luminance = Math.sqrt( 0.299 * ( color.r ** 2 ) + 0.587 * ( color.g ** 2 ) + 0.114 * ( color.b ** 2 ) );\n\t\t\t\tconst accentTextColor = luminance < 0.5 ? 'white' : '#111111';\n\n\t\t\t\tif ( element.type === 'radio' ) {\n\n\t\t\t\t\tbuildRectPath( x, y, width, height, height );\n\n\t\t\t\t\tcontext.fillStyle = 'white';\n\t\t\t\t\tcontext.strokeStyle = accentColor;\n\t\t\t\t\tcontext.lineWidth = 1;\n\t\t\t\t\tcontext.fill();\n\t\t\t\t\tcontext.stroke();\n\n\t\t\t\t\tif ( element.checked ) {\n\n\t\t\t\t\t\tbuildRectPath( x + 2, y + 2, width - 4, height - 4, height );\n\n\t\t\t\t\t\tcontext.fillStyle = accentColor;\n\t\t\t\t\t\tcontext.strokeStyle = accentTextColor;\n\t\t\t\t\t\tcontext.lineWidth = 2;\n\t\t\t\t\t\tcontext.fill();\n\t\t\t\t\t\tcontext.stroke();\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( element.type === 'checkbox' ) {\n\n\t\t\t\t\tbuildRectPath( x, y, width, height, 2 );\n\n\t\t\t\t\tcontext.fillStyle = element.checked ? accentColor : 'white';\n\t\t\t\t\tcontext.strokeStyle = element.checked ? accentTextColor : accentColor;\n\t\t\t\t\tcontext.lineWidth = 1;\n\t\t\t\t\tcontext.stroke();\n\t\t\t\t\tcontext.fill();\n\n\t\t\t\t\tif ( element.checked ) {\n\n\t\t\t\t\t\tconst currentTextAlign = context.textAlign;\n\n\t\t\t\t\t\tcontext.textAlign = 'center';\n\n\t\t\t\t\t\tconst properties = {\n\t\t\t\t\t\t\tcolor: accentTextColor,\n\t\t\t\t\t\t\tfontFamily: style.fontFamily,\n\t\t\t\t\t\t\tfontSize: height + 'px',\n\t\t\t\t\t\t\tfontWeight: 'bold'\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tdrawText( properties, x + ( width / 2 ), y, 'âœ”' );\n\n\t\t\t\t\t\tcontext.textAlign = currentTextAlign;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( element.type === 'range' ) {\n\n\t\t\t\t\tconst [ min, max, value ] = [ 'min', 'max', 'value' ].map( property => parseFloat( element[ property ] ) );\n\t\t\t\t\tconst position = ( ( value - min ) / ( max - min ) ) * ( width - height );\n\n\t\t\t\t\tbuildRectPath( x, y + ( height / 4 ), width, height / 2, height / 4 );\n\t\t\t\t\tcontext.fillStyle = accentTextColor;\n\t\t\t\t\tcontext.strokeStyle = accentColor;\n\t\t\t\t\tcontext.lineWidth = 1;\n\t\t\t\t\tcontext.fill();\n\t\t\t\t\tcontext.stroke();\n\n\t\t\t\t\tbuildRectPath( x, y + ( height / 4 ), position + ( height / 2 ), height / 2, height / 4 );\n\t\t\t\t\tcontext.fillStyle = accentColor;\n\t\t\t\t\tcontext.fill();\n\n\t\t\t\t\tbuildRectPath( x + position, y, height, height, height / 2 );\n\t\t\t\t\tcontext.fillStyle = accentColor;\n\t\t\t\t\tcontext.fill();\n\n\t\t\t\t}\n\n\t\t\t\tif ( element.type === 'color' || element.type === 'text' || element.type === 'number' ) {\n\n\t\t\t\t\tclipper.add( { x: x, y: y, width: width, height: height } );\n\n\t\t\t\t\tdrawText( style, x + parseInt( style.paddingLeft ), y + parseInt( style.paddingTop ), element.value );\n\n\t\t\t\t\tclipper.remove();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t/*\n\t\t// debug\n\t\tcontext.strokeStyle = '#' + Math.random().toString( 16 ).slice( - 3 );\n\t\tcontext.strokeRect( x - 0.5, y - 0.5, width + 1, height + 1 );\n\t\t*/\n\n\t\tconst isClipping = style.overflow === 'auto' || style.overflow === 'hidden';\n\n\t\tif ( isClipping ) clipper.add( { x: x, y: y, width: width, height: height } );\n\n\t\tfor ( let i = 0; i < element.childNodes.length; i ++ ) {\n\n\t\t\tdrawElement( element.childNodes[ i ], style );\n\n\t\t}\n\n\t\tif ( isClipping ) clipper.remove();\n\n\t}\n\n\tconst offset = element.getBoundingClientRect();\n\n\tlet canvas = canvases.get( element );\n\n\tif ( canvas === undefined ) {\n\n\t\tcanvas = document.createElement( 'canvas' );\n\t\tcanvas.width = offset.width;\n\t\tcanvas.height = offset.height;\n\t\tcanvases.set( element, canvas );\n\n\t}\n\n\tconst context = canvas.getContext( '2d'/*, { alpha: false }*/ );\n\n\tconst clipper = new Clipper( context );\n\n\t// console.time( 'drawElement' );\n\n\tcontext.clearRect( 0, 0, canvas.width, canvas.height );\n\n\tdrawElement( element );\n\n\t// console.timeEnd( 'drawElement' );\n\n\treturn canvas;\n\n}\n\nfunction htmlevent( element, event, x, y ) {\n\n\tconst mouseEventInit = {\n\t\tclientX: ( x * element.offsetWidth ) + element.offsetLeft,\n\t\tclientY: ( y * element.offsetHeight ) + element.offsetTop,\n\t\tview: element.ownerDocument.defaultView\n\t};\n\n\twindow.dispatchEvent( new MouseEvent( event, mouseEventInit ) );\n\n\tconst rect = element.getBoundingClientRect();\n\n\tx = x * rect.width + rect.left;\n\ty = y * rect.height + rect.top;\n\n\tfunction traverse( element ) {\n\n\t\tif ( element.nodeType !== Node.TEXT_NODE && element.nodeType !== Node.COMMENT_NODE ) {\n\n\t\t\tconst rect = element.getBoundingClientRect();\n\n\t\t\tif ( x > rect.left && x < rect.right && y > rect.top && y < rect.bottom ) {\n\n\t\t\t\telement.dispatchEvent( new MouseEvent( event, mouseEventInit ) );\n\n\t\t\t\tif ( element instanceof HTMLInputElement && element.type === 'range' && ( event === 'mousedown' || event === 'click' ) ) {\n\n\t\t\t\t\tconst [ min, max ] = [ 'min', 'max' ].map( property => parseFloat( element[ property ] ) );\n\n\t\t\t\t\tconst width = rect.width;\n\t\t\t\t\tconst offsetX = x - rect.x;\n\t\t\t\t\tconst proportion = offsetX / width;\n\t\t\t\t\telement.value = min + ( max - min ) * proportion;\n\t\t\t\t\telement.dispatchEvent( new InputEvent( 'input', { bubbles: true } ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0; i < element.childNodes.length; i ++ ) {\n\n\t\t\t\ttraverse( element.childNodes[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttraverse( element );\n\n}\n\nexport { HTMLMesh };\n"],"names":["HTMLMesh","Mesh","dom","texture","HTMLTexture","geometry","PlaneGeometry","material","MeshBasicMaterial","onEvent","event","canvases","CanvasTexture","html2canvas","SRGBColorSpace","LinearFilter","observer","config","htmlevent","element","range","color","Color","Clipper","context","clips","isClipping","doClip","minX","minY","maxX","maxY","i","clip","drawText","style","x","y","string","buildRectPath","w","h","drawBorder","which","width","height","borderWidth","borderStyle","borderColor","drawElement","rect","offset","dpr","backgroundColor","borders","match","prevBorder","border","accentColor","accentTextColor","currentTextAlign","properties","min","max","value","property","position","clipper","canvas","mouseEventInit","traverse","proportion"],"mappings":"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","x_google_ignoreList":[0]}