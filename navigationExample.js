import{W as h,V as A,S as C,P as D,O as M,D as L,A as y,T as R,M as w,a as O,b as E,C as x,c as v}from"./VRButton.js";import{C as N,E as d,m as P}from"./ControllersManager.js";import{X as W}from"./XRTeleportMoveControl.js";import"./uil.custom.module.js";import{g as b}from"./squareStaircase.js";let t,o,l,I=new v,p,c,i,u,m;function G(){t=new h({antialias:!0}),t.setPixelRatio(window.devicePixelRatio),t.setSize(window.innerWidth,window.innerHeight),t.xr.addEventListener("sessionstart",function(a){}),t.xr.addEventListener("sessionend",function(a){}),t.xr.enabled=!0,t.setClearColor(51,1),document.body.appendChild(t.domElement),document.body.appendChild(A.createButton(t)),o=new C,l=new D(50,window.innerWidth/window.innerHeight,.1,1e4),l.position.set(-30,30,30),l.lookAt(0,1.6,0),o.add(l),new M(l,t.domElement);var r=new L(16777215,3);r.position.set(2,1,4).normalize(),o.add(r);let n=new y(16777215,1);o.add(n),window.addEventListener("resize",U,!1)}function U(){l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),t.setSize(window.innerWidth,window.innerHeight)}function X(){t.xr.setReferenceSpaceType("local-floor"),i=new N(t.xr,o),i.addEventListener(d.ON_RAYCAST_STARTED,e=>{console.log("ON_RAYCAST_STARTED",e)}),i.addEventListener(d.ON_RAYCAST_UPDATED,e=>{console.log("ON_RAYCAST_UPDATED",e)}),i.addEventListener(d.ON_RAYCAST_ENDED,e=>{console.log("ON_RAYCAST_ENDED",e)}),i.addEventListener(d.ON_DOUBLE_SQUEEZE_STARTED,e=>{console.log("ON_DOUBLE_SQUEEZE_STARTED",e)}),i.addEventListener(d.ON_DOUBLE_SQUEEZE_ENDED,e=>{console.log("ON_DOUBLE_SQUEEZE_ENDED",e)}),i.addEventListener(d.ON_AXIS_RIGHT_CLICK,e=>{console.log("ON_AXIS_RIGHT_CLICK",e)}),u=new W(t.xr,i,o);const r=p.geometry.clone(),n=m.geometry.clone(),a=c.geometry.clone();p.updateMatrixWorld(),m.updateMatrixWorld(),c.updateMatrixWorld(),r.applyMatrix4(p.matrixWorld),n.applyMatrix4(m.matrixWorld),a.applyMatrix4(c.matrixWorld);const s=P([r,n,a]);u.setTeleportSurfaces(s)}function k(){let r=new R().load("maps/floorPlane.png");p=new w(new O(300,300,20,20).rotateX(-Math.PI/2),new E({color:8421504,transparent:!1,opacity:.95,map:r})),o.add(p);const n=new x(10,10,10,32,2,!1,-Math.PI/2,Math.PI);n.rotateX(-Math.PI/2),n.translate(0,-2,0),n.scale(1,.6,1),c=new w(n,new E({color:16750848})),c.position.set(23,0,23),o.add(c),z(),m=b(),m.position.set(15,0,-15),o.add(m);let a=new w(new x(0,.2,1,32),new E({color:16711680})),s=a.clone();s.position.set(10,0,0),o.add(s);let e=a.clone();e.material=s.material.clone(),e.material.color.set(255),e.position.set(0,0,10),o.add(e)}function z(){const r=new E({color:10066329}),n=new x(.5,1,100,32);n.translate(0,50,0);let a=0;const s=[20,15,10];for(let e=50;e<=170;e=e+40){for(let f=0;f<360;f=f+s[a]){let _=f*Math.PI/180;const g=new w(n,r);let T=Math.cos(_)*e,S=Math.sin(_)*e;g.position.set(T,0,S),o.add(g)}a++}}function B(){t.setAnimationLoop(H)}function H(r){const n=I.getDelta();i.update(r,n),u.update(n),t.render(o,l)}G();k();X();B();
//# sourceMappingURL=navigationExample.js.map


//test


