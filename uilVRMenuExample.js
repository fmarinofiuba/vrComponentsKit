var h=Object.defineProperty;var g=(t,n,e)=>n in t?h(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var l=(t,n,e)=>g(t,typeof n!="symbol"?n+"":n,e);import{s as v,R as m,L as _,W as U,V as f,S as b,P as M,O as x,c as I}from"./VRButton.js";import{C as E,E as L}from"./ControllersManager.js";import{V as S,c as H}from"./vrMenuTestScene.js";import{D as P}from"./uil.custom.module.js";import"./VrInteractivePanel.js";class R extends S{constructor(e,p,c){super(e,p,c);l(this,"_onPointerEvent",e=>{switch(e.type){case"pointerdown":this._vrUI.setMouse(e.data),this._vrUI.triggerMouseMove(),this._vrUI.triggerMouseDown();break;case"pointermove":this._vrUI.setMouse(e.data),this._vrUI.triggerMouseMove();break;case"pointerup":this._vrUI.triggerMouseUp();break;case"pointerupoutside":this._vrUI.reset(!0);break}});this._vrUI=new P({w:512,maxHeight:512,colors:{bg:"#FFF"},isCanvas:!0,parent:null})}createMap(){const e=this;this._vrUI.onDraw=function(){e._map?e._map.needsUpdate=!0:(e._map=new v(this.canvas),e._map.wrapS=m,e._map.wrapT=m,e._map.minFilter=_,e._map.needsUpdate=!0,e._frontMaterial.map=e._map,e._frontMaterial.needsUpdate=!0);const p=e._vrUI.zone.h,c=e._vrUI.forceHeight,w=e._vrUI.zone.w;e._updateAspectRatio(w,c,p)}}get ui(){return this._vrUI}}let i,s,r,W=new I,d,u,o,a={torusSpeed:1,cubeSpeed:1,lightHUE:.25};window.params=a;function y(){i=new U({antialias:!0}),i.setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),i.xr.addEventListener("sessionstart",function(n){}),i.xr.addEventListener("sessionend",function(n){}),i.xr.enabled=!0,document.body.appendChild(i.domElement),document.body.appendChild(f.createButton(i)),s=new b,r=new M(50,window.innerWidth/window.innerHeight,.1,1e4),r.position.set(1,3,5),s.add(r);const t=new x(r,i.domElement);t.target.set(0,1,0),t.update(),window.addEventListener("resize",T,!1)}function C(){d=new E(i.xr,s),d.addEventListener(L.ON_BUTTON_UP,t=>t.button=="ButtonX"?(u.toggleVisibility(),!1):!0),u=new R(s,d,{mode:"panel",debugLevel:1})}function T(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}function V(){o=H(s)}function k(){let t=u.ui;t.add(a,"torusSpeed",{min:0,max:10}),t.add(a,"cubeSpeed",{min:0,max:10});let n=t.add("group",{name:"Light",bg:"#442222"});n.add(o.pointLight,"intensity",{min:0,max:5}),n.add(a,"lightHUE",{name:" light HUE",min:0,max:1}),n.open(),u.createMap()}function z(){i.setAnimationLoop(F)}function F(t){const n=W.getDelta();d.update(t,n),i.render(s,r),o&&(o.torus.rotation.y+=a.torusSpeed/100,o.cube.rotation.y-=a.cubeSpeed/100,o.pointLight.color.setHSL(a.lightHUE,1,.5))}y();V();C();k();z();
//# sourceMappingURL=uilVRMenuExample.js.map
