{"version":3,"file":"squareStaircase.js","sources":["../src/utils/squareStaircase.js"],"sourcesContent":["import * as BufferGeometryUtils from 'three/addons/utils/BufferGeometryUtils.js';\r\nimport * as THREE from 'three';\r\n\r\nexport function getSquareStaircase(totalSegments = 10) {\r\n\tconst stepsPerSide = 10;\r\n\tconst stepHeight = 0.3;\r\n\tconst stepWidth = 3;\r\n\tconst stepDepth = 0.6;\r\n\tconst zGap = 0.5;\r\n\r\n\tconst stairMaterial = new THREE.MeshPhongMaterial({\r\n\t\tcolor: 0x997744,\r\n\t\tside: THREE.DoubleSide,\r\n\t\tshininess: 32,\r\n\t});\r\n\r\n\tconst stepGeometry = new THREE.BoxGeometry(stepDepth, 0.1, stepWidth);\r\n\r\n\tconst restAreaGeometry = new THREE.BoxGeometry(3, 0.2, stepWidth * 2 + 1 + zGap * 2);\r\n\r\n\tlet parts = [];\r\n\tlet h = 0.1;\r\n\r\n\tfor (let j = 0; j < totalSegments; j++) {\r\n\t\tconst segmentDirection = j % 2 === 0 ? 1 : -1;\r\n\t\tfor (let i = 0; i <= stepsPerSide; i++) {\r\n\t\t\tconst x = (-stepsPerSide / 2 + i) * stepDepth * segmentDirection;\r\n\t\t\tconst z = (stepWidth / 2 + zGap) * segmentDirection;\r\n\t\t\tconst y = h;\r\n\r\n\t\t\tlet geo = stepGeometry.clone();\r\n\t\t\tgeo.translate(x, y, z);\r\n\r\n\t\t\tparts.push(geo);\r\n\t\t\th = h + stepHeight;\r\n\t\t}\r\n\r\n\t\tlet geo = restAreaGeometry.clone();\r\n\t\tconst x = ((stepsPerSide / 2) * stepDepth + 2.5) * segmentDirection;\r\n\t\tconst z = 0;\r\n\t\tconst y = h;\r\n\t\tgeo.translate(x, y, z);\r\n\t\tparts.push(geo);\r\n\t}\r\n\r\n\tlet stairGeometry = BufferGeometryUtils.mergeGeometries(parts);\r\n\tlet stair = new THREE.Mesh(stairGeometry, stairMaterial);\r\n\treturn stair;\r\n}\r\n"],"names":["getSquareStaircase","totalSegments","stairMaterial","THREE.MeshPhongMaterial","THREE.DoubleSide","stepGeometry","THREE.BoxGeometry","restAreaGeometry","parts","h","j","segmentDirection","i","x","z","geo","y","stairGeometry","BufferGeometryUtils.mergeGeometries","THREE.Mesh"],"mappings":"mGAGO,SAASA,EAAmBC,EAAgB,GAAI,CAOtD,MAAMC,EAAgB,IAAIC,EAAwB,CACjD,MAAO,SACP,KAAMC,EACN,UAAW,EACb,CAAE,EAEKC,EAAe,IAAIC,EAAkB,GAAW,GAAK,CAAS,EAE9DC,EAAmB,IAAID,EAAkB,EAAG,GAAK,EAAY,EAAI,EAAI,GAAO,CAAC,EAEnF,IAAIE,EAAQ,CAAA,EACRC,EAAI,GAER,QAASC,EAAI,EAAGA,EAAIT,EAAeS,IAAK,CACvC,MAAMC,EAAmBD,EAAI,IAAM,EAAI,EAAI,GAC3C,QAASE,EAAI,EAAGA,GAAK,GAAcA,IAAK,CACvC,MAAMC,GAAK,GAAoBD,GAAK,GAAYD,EAC1CG,GAAK,EAAY,EAAI,IAAQH,EAC7B,EAAIF,EAEV,IAAIM,EAAMV,EAAa,QACvBU,EAAI,UAAUF,EAAG,EAAGC,CAAC,EAErBN,EAAM,KAAKO,CAAG,EACdN,EAAIA,EAAI,EACR,CAED,IAAIM,EAAMR,EAAiB,QAC3B,MAAMM,GAAM,GAAe,EAAK,GAAY,KAAOF,EAC7CG,EAAI,EACJE,EAAIP,EACVM,EAAI,UAAUF,EAAGG,EAAGF,CAAC,EACrBN,EAAM,KAAKO,CAAG,CACd,CAED,IAAIE,EAAgBC,EAAoCV,CAAK,EAE7D,OADY,IAAIW,EAAWF,EAAef,CAAa,CAExD"}